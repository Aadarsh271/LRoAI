lroai_downsize_excessive_buildings = {
    if = {
        limit = {
            lroai_bureaucracy_load >= 0.75
        }

        # Bureaucracy
        if = {
            limit = {
                produced_bureaucracy >= lroai_bureaucracy_required_value_ceiling_downsize
            }
            random_scope_state = {
                limit = {
                    lroai_downsize_government_administration = yes
                }
                set_variable = {
                    name = lroai_building_government_administration_level
                    value = 0
                }
                remove_building = building_government_administration
            }
        }
        
        # Port
        if = {
            limit = {
                lroai_total_convoy_produced_value >= lroai_total_convoy_available_value_downsize
            }
            random_scope_state = {
                limit = {
                    lroai_downsize_port = yes
                }
                set_variable = {
                    name = lroai_building_port_level
                    value = 0
                }
                remove_building = building_port
            }
        }
        
        # Barracks
        if = {
            limit = {
                lroai_is_using_military_forces = no
                lroai_building_barracks_spending_value >= lroai_building_barracks_spending_excess
            }
            random_scope_state = {
                limit = {
                    lroai_downsize_barracks = yes
                }
                set_variable = {
                    name = lroai_building_barracks_level
                    value = 0
                }
                remove_building = building_barracks
            }
        }
    
        # Naval base
        if = {
            limit = {
                lroai_is_using_military_forces = no
                lroai_building_naval_base_spending_value >= lroai_building_naval_base_spending_excess
            }
            random_scope_state = {
                limit = {
                    lroai_downsize_naval_base = yes
                }
                set_variable = {
                    name = lroai_building_naval_base_level
                    value = 0
                }
                remove_building = building_naval_base
            }
        }
    }
}

# Clear variables used in downsizing but not in construction
lroai_clear_downsizing_variables = {
    every_scope_state = {
        remove_variable = lroai_building_government_administration_level
        #remove_variable = lroai_railway_level
    }
}