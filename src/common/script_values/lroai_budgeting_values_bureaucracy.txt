# ------------------
# Bureaucracy target
# ------------------

lroai_building_government_administration_spending_share = {
    value = 0.20
}

lroai_building_government_administration_spending_target = {
    value = lroai_country_active_income
    multiply = lroai_building_government_administration_spending_share
}

lroai_building_government_administration_spending_excess = {
    value = lroai_building_government_administration_spending_target
    multiply = 1.20
}

lroai_building_government_administration_spending_ceiling = {
    value = lroai_building_government_administration_spending_target
    multiply = 1.40
}

lroai_building_government_administration_spending_value = {
    if = {
        limit = {
            has_variable = lroai_building_government_administration_spending
            var:lroai_building_government_administration_spending > 0
        }
        value = var:lroai_building_government_administration_spending
        floor = yes
        divide = {
            value = var:lroai_building_government_administration_spending
            subtract = {
                value = var:lroai_building_government_administration_spending
                floor = yes
            }
            multiply = 100
        }
    }
    else = {
        value = lroai_country_active_income
        multiply = lroai_building_government_administration_spending_share
        multiply = 1.10
    }
    min = 0
    max = 1000000000 #billion
}

lroai_building_government_administration_spending_expected = {
    value = lroai_building_government_administration_spending_value
    add = {
        if = {
            limit = {
                lroai_building_government_administration_spending_value > 0
                has_variable = lroai_building_government_administration_total
                var:lroai_building_government_administration_total > 0
            }
            value = lroai_building_government_administration_spending_value
            divide = var:lroai_building_government_administration_total
        }
        else = {
            value = 1000
        }
        multiply = lroai_construction_limit_4_6
    }
}

lroai_bureaucracy_1 = {
    value = 0
}

lroai_bureaucracy_2 = {
    value = lroai_bureaucracy_target
    value = 0.142
}

lroai_bureaucracy_3 = {
    value = lroai_bureaucracy_target
    multiply = 0.285
}

lroai_bureaucracy_4 = {
    value = lroai_bureaucracy_target
    multiply = 0.428
}

lroai_bureaucracy_5 = {
    value = lroai_bureaucracy_target
    multiply = 0.571
}

lroai_bureaucracy_6 = {
    value = lroai_bureaucracy_target
    multiply = 0.714
}

lroai_bureaucracy_7 = {
    value = lroai_bureaucracy_target
    multiply = 0.857
}

lroai_bureaucracy_8 = {
    value = lroai_bureaucracy_target
    multiply = 1.00
}

lroai_bureaucracy_9 = {
    value = lroai_bureaucracy_target
    multiply = 1.05
}

lroai_bureaucracy_10 = {
    value = lroai_bureaucracy_target
    multiply = 1.10
}

lroai_country_lost_taxes_2 = {
    value = 0.750
}

lroai_country_lost_taxes_3 = {
    value = 0.625
}

lroai_country_lost_taxes_4 = {
    value = 0.500
}

lroai_country_lost_taxes_5 = {
    value = 0.375
}

lroai_country_lost_taxes_6 = {
    value = 0.250
}

lroai_country_lost_taxes_7 = {
    value = 0.125
}

lroai_country_lost_taxes_8 = {
    value = 0
}

lroai_bureaucracy_target = {
    value = var:lroai_surplus_bureaucracy_target
    add = 5
    max = {
        value = lroai_bureaucracy_usage
        multiply = 0.20
    }
}

lroai_bureaucracy_produced = {
    value = modifier:country_bureaucracy_add
    multiply = {
        value = modifier:country_bureaucracy_mult
        add = 1
    }
}

lroai_bureaucracy_usage = {
    value = lroai_bureaucracy_produced
    subtract = bureaucracy
}

lroai_bureaucracy_load = {
    value = lroai_bureaucracy_produced
    divide = lroai_bureaucracy_usage
}

lroai_bureaucracy_excess = {
    value = lroai_bureaucracy_target
    multiply = 1.20
    min = {
        value = lroai_bureaucracy_target
        add = {
            if = {
                limit = {
                    has_technology_researched = central_planning
                }
                value = 100
            }
            else_if = {
                limit = {
                    has_technology_researched = central_archives
                }
                value = 65
            }
            else_if = {
                limit = {
                    has_technology_researched = centralization
                }
                value = 50
            }
            else = {
                value = 35
            }
        }
        multiply = 1.20
    }
    max = 1000000
}

lroai_bureaucracy_ceiling = {
    value = lroai_bureaucracy_target
    multiply = 1.40
    min = {
        value = lroai_bureaucracy_target
        add = {
            if = {
                limit = {
                    has_technology_researched = central_planning
                }
                value = 100
            }
            else_if = {
                limit = {
                    has_technology_researched = central_archives
                }
                value = 65
            }
            else_if = {
                limit = {
                    has_technology_researched = centralization
                }
                value = 50
            }
            else = {
                value = 35
            }
        }
        multiply = 1.40
    }
    max = 1000000
}
